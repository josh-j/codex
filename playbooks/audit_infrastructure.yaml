---
# playbooks/audit_infrastructure.yaml
#
# Master orchestrator for daily data center health and compliance audit.
# Plays run in order: init → domain audits (parallel-friendly) → aggregate.

- name: "Phase 1: Initialize Run"
  ansible.builtin.import_playbook: common/init_infrastructure.yaml

- name: "Phase 2a: VMware Audit"
  ansible.builtin.import_playbook: infrastructure/vmware.yaml

- name: "Phase 2b: Storage Audit"
  ansible.builtin.import_playbook: infrastructure/storage.yaml

- name: "Phase 2c: Compute Audit"
  ansible.builtin.import_playbook: infrastructure/compute.yaml

- name: "Phase 3: Generate Reports"
  ansible.builtin.import_playbook: common/aggregate_results.yaml
