#!/usr/bin/env bash
# Ansible Ops Checker - direnv configuration

# Use Nix flake for development environment
use flake

# Load .vaultpass if it exists (for Ansible Vault)
if [[ -f .vaultpass ]]; then
  export ANSIBLE_VAULT_PASSWORD_FILE="$PWD/.vaultpass"
fi

# Additional project-specific environment variables
export ANSIBLE_CONFIG="$PWD/ansible.cfg"
export ANSIBLE_COLLECTIONS_PATH="$PWD/collections:$HOME/.ansible/collections${ANSIBLE_COLLECTIONS_PATH:+:$ANSIBLE_COLLECTIONS_PATH}"
export ANSIBLE_INVENTORY="$PWD/inventory/production/hosts.yml"
export ANSIBLE_ROLES_PATH="$PWD/roles"

# Logging
export ANSIBLE_LOG_PATH="$PWD/logs/ansible.log"

echo "âœ“ Ansible Ops Checker environment loaded"
