---
# Initialize the 'ncs' and domain namespaces for this platform.

- name: Initialize Role Context
  ansible.builtin.include_role:
    name: internal.core.common
    tasks_from: sync_ctx
  vars:
    ncs_domain_ctx_name: "{{ starter_platform_name }}_ctx"

- name: Initialize Domain Structure
  ansible.builtin.set_fact:
    "{{ starter_platform_name }}_ctx": >-
      {{
        lookup('vars', starter_platform_name + '_ctx')
        | internal.core.recursive_combine({
          'status': 'INITIALIZING',
          'facts': {}
        })
      }}
  changed_when: false
