---
# internal.vmware.discovery : main.yaml
# Foundation role: Connects to vCenter and collects all inventory data.

- name: Phase 0 | Init
  ansible.builtin.include_tasks: init.yaml
  tags: [always]

- name: Phase 1 | Discovery
  ansible.builtin.include_tasks: discovery.yaml
  when: not (vmware_skip_discovery | default(false) | bool)
  tags: ['discovery']
