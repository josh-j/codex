---
# collections/ansible_collections/internal/vmware/roles/remediate/tasks/main.yaml
# internal.vmware.remediate : main.yaml
# Remediation entry point.
# Relies on internal.vmware.discovery to populate vmware_ctx.

- name: Remediation Wrapper
  tags: ["remediate"]
  block:
    - name: Check Remediation Toggle
      ansible.builtin.debug:
        msg: "Remediation is disabled. Set 'vmware_enable_remediation: true' to enable."
      when: not (vmware_enable_remediation | default(false) | bool)

    # Placeholder for future remediation tasks
    # - name: Remediate Clusters
    #   include_tasks: cluster_compliance.yaml
    #   when: vmware_enable_remediation | default(false) | bool
