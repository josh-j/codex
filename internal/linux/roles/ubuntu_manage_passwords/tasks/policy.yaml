---
- name: Enforce global password aging policy in login.defs
  ansible.builtin.lineinfile:
    path: /etc/login.defs
    regexp: "^{{ item.key }}"
    line: "{{ item.key }} {{ item.value }}"
  loop:
    - { key: 'PASS_MAX_DAYS', value: "{{ ubuntu_pass_max_days }}" }
    - { key: 'PASS_MIN_DAYS', value: "{{ ubuntu_pass_min_days }}" }
    - { key: 'PASS_WARN_AGE', value: "{{ ubuntu_pass_warn_days }}" }
